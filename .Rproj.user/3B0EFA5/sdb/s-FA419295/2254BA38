{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Data Visualization - Part 1\"\nsubtitle: \"The Good, The Bad and The Ugly\"\nauthor: \"Scott Stoltzman\"\ndate: \"March 14, 2017\"\noutput: html_document\n---\n\n----  \n\n# Data Visualization - A Quick Overview of the ggplot2 in R\n\n```{r, fig.align='center',echo=FALSE}\nlibrary(png)\nlibrary(grid)\nimg = readPNG(\"images/title_photo.png\")\ngrid.raster(img)\n```\n\n\n### Why should you use ggplot2?  \n1. More robust plotting than base plot package\n2. Better control over aesthetics - colors, axes, background, etc.\n3. Layering\n4. Variable Mapping (aes)\n5. Automatic aggregation of data\n6. Built in formulas & plotting (geom_smooth)\n7. The list goes on and on...  \n\nBasically, ggplot2 allows for a lot more customization of plots with a lot less code (the rest of it is behind the scenes). Once you are used to the syntax, there's no going back. It's faster and easier.\n\n### What's the downside to using ggplot2?  \n1. A bit of a learning curve\n2. No interactivity\n\nI'll go through some of the examples from the [Top 50 ggplot2 Visualizations Master List](http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html). I will be using their examples exactly but will explain what's going on.  \n\n**Note:** I believe the intention of the author of the [Top 50 ggplot2 Visualizations Master List](http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html) was to illustrate how to use ggplot2 rather than doing a full demonstration of what important data visualization techniques are - so keep that in mind as I go through these examples. Some of the visuals do not line up with my initial \n\nAs usual, some packages must be loaded.\n```{r, results='hide', warning=FALSE, message=FALSE,}\nlibrary(reshape2)\nlibrary(lubridate)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(scales)\n```\n\n### The Scatterplot  \n\nThis can be an incredibly powerful tool for data analysis. However, you have to be careful when using it because it's primarily used by people doing analysis and not reporting (depending on what industry you're in).\n\nThe author of this chart was looking for a correlation between area and population. \n\n```{r, warning=FALSE}\noptions(scipen=999)  # turn-off scientific notation like 1e+48\ntheme_set(theme_bw())  # pre-set the bw theme.\ndata(\"midwest\", package = \"ggplot2\")\n\n# Scatterplot\np = ggplot(midwest, aes(x=area, y=poptotal))  \np + geom_point(aes(col=state, size=popdensity)) + \n  geom_smooth(method=\"loess\", se=F) + \n  xlim(c(0, 0.1)) + \n  ylim(c(0, 500000)) + \n  labs(subtitle=\"Area Vs Population\", \n       y=\"Population\", \n       x=\"Area\", \n       title=\"Scatterplot\", \n       caption = \"Source: midwest\")\n```\n\n\n#\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n```{r}\ndata(economics,package='ggplot2') # load the economics data\necon = melt(economics[, c(\"date\", \"pce\", \"unemploy\", \"psavert\")], id=\"date\")\ndf = econ %>%\n  filter(variable == 'pce') %>%\n  group_by(date) %>%\n  summarise(pce = sum(value))\n```\n\n```{r}\nplot(df,type='l')\n```\n\n\n```{r}\np = ggplot(df, aes(x=date, y=pce, group=1))\np + geom_line() + scale_x_date()\n```\n\n\n\n\n```{r}\np = ggplot(econ, aes(x=date))\np + geom_line(aes(y=value,col=variable))\n```\n\n```{r}\np + geom_line(aes(y=value)) + facet_wrap(~variable)\n```\n\n```{r}\np + geom_line(aes(y=value)) + facet_wrap(~variable,ncol=1)\n```\n\n\n```{r}\np + geom_line(aes(y=value)) + facet_wrap(~variable,ncol=1,scales='free')\n```\n\n```{r}\ndf = econ %>%\n  spread(variable,value)\np = ggplot(df)\np + geom_point(aes(x=pce,y=psavert))\n```\n\n```{r}\necon$year = year(econ$date)\necon$decade = '1960s'\necon$decade[econ$year >= 1970] = '1970s'\necon$decade[econ$year >= 1980] = '1980s'\necon$decade[econ$year >= 1990] = '1990s'\necon$decade[econ$year >= 2000] = '2000s'\necon$decade[econ$year >= 2010] = '2010s'\necon$decade = as.factor(econ$decade)\n\ndf = econ %>%\n  spread(variable,value)\np = ggplot(df)\np + geom_point(aes(x=pce,y=psavert,col=decade))\n```\n\n```{r}\np + geom_bar(aes(x=decade,y=unemploy),stat='identity')\n```\n\n\nAs always, the code used in this post is on my [GitHub](https://github.com/stoltzmaniac/Data-Visualization-Lesson)",
    "created" : 1489509935170.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1399367206",
    "id" : "2254BA38",
    "lastKnownWriteTime" : 1489520437,
    "last_content_update" : 1489520437623,
    "path" : "~/Documents/GitHub/Data-Visualization-Lesson/Data Visualization - Part 2.Rmd",
    "project_path" : "Data Visualization - Part 2.Rmd",
    "properties" : {
        "last_setup_crc32" : "",
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}